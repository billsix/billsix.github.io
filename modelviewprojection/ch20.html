<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shaders - Demo 20 &mdash; Model View Projection 0.0.1 documentation</title>
      <link rel="stylesheet" href="static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="static/css/my_theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="static/documentation_options.js"></script>
        <script src="static/jquery.js"></script>
        <script src="static/underscore.js"></script>
        <script src="static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="static/doctools.js"></script>
        <script src="static/sphinx_highlight.js"></script>
    <script src="static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="OpenGL3.3 Core Profile - Demo 21" href="ch21.html" />
    <link rel="prev" title="Matrix Stacks - Demo 19" href="ch19.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Model View Projection
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch01.html">Opening a Window - Demo 01</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch02.html">Draw A Rectangle - Demo 02</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch03.html">Window Resizing and Proportionality - Demo 03</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch04.html">Moving the Paddles - Keyboard Input - Demo 04</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch05.html">Add Translate Method to Vertex - Demo 05</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch06.html">Modelspace - Demo 06</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch07.html">Rotations - Demo 07</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch08.html">Rotation Fix Attempt 1 - Demo 08</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch09.html">Rotation Fixed - Sequence of Transformations - Demo 09</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch10.html">Camera Space - Demo 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch11.html">Relative Objects - Demo 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch12.html">Rotate the Square - Demo 12</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch13.html">Rotate the Square Around Paddle 1 - Demo 13</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch14.html">Adding Depth - Z axis Demo 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch15.html">Adding Depth - Enable Depth Buffer - Demo 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch16.html">Moving Camera in 3D Space - Demo 16</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch17.html">3D Perspective - Demo 17</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch18.html">Lambda Stack - Demo 18</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch19.html">Matrix Stacks - Demo 19</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Shaders - Demo 20</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-execute">How to Execute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#move-the-paddles-using-the-keyboard">Move the Paddles using the Keyboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ch21.html">OpenGL3.3 Core Profile - Demo 21</a></li>
<li class="toctree-l1"><a class="reference internal" href="perspective.html">Standard Perspective Matrix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Model View Projection</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Shaders - Demo 20</li>
      <li class="wy-breadcrumbs-aside">
            <a href="sources/ch20.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="shaders-demo-20">
<h1>Shaders - Demo 20<a class="headerlink" href="#shaders-demo-20" title="Permalink to this heading">¶</a></h1>
<section id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this heading">¶</a></h2>
<p>Learn what “shaders” are, with a brief introduction to how
to use them in OpenGL 2.1.</p>
</section>
<section id="how-to-execute">
<h2>How to Execute<a class="headerlink" href="#how-to-execute" title="Permalink to this heading">¶</a></h2>
<p>On Linux or on MacOS, in a shell, type “python src/demo20/demo.py”.
On Windows, in a command prompt, type “python src\demo20\demo.py”.</p>
</section>
<section id="move-the-paddles-using-the-keyboard">
<h2>Move the Paddles using the Keyboard<a class="headerlink" href="#move-the-paddles-using-the-keyboard" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Keyboard Input</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>w</em></p></td>
<td><p>Move Left Paddle Up</p></td>
</tr>
<tr class="row-odd"><td><p><em>s</em></p></td>
<td><p>Move Left Paddle Down</p></td>
</tr>
<tr class="row-even"><td><p><em>k</em></p></td>
<td><p>Move Right Paddle Down</p></td>
</tr>
<tr class="row-odd"><td><p><em>i</em></p></td>
<td><p>Move Right Paddle Up</p></td>
</tr>
<tr class="row-even"><td><p><em>d</em></p></td>
<td><p>Increase Left Paddle’s Rotation</p></td>
</tr>
<tr class="row-odd"><td><p><em>a</em></p></td>
<td><p>Decrease Left Paddle’s Rotation</p></td>
</tr>
<tr class="row-even"><td><p><em>l</em></p></td>
<td><p>Increase Right Paddle’s Rotation</p></td>
</tr>
<tr class="row-odd"><td><p><em>j</em></p></td>
<td><p>Decrease Right Paddle’s Rotation</p></td>
</tr>
<tr class="row-even"><td><p><em>UP</em></p></td>
<td><p>Move the camera up, moving the objects down</p></td>
</tr>
<tr class="row-odd"><td><p><em>DOWN</em></p></td>
<td><p>Move the camera down, moving the objects up</p></td>
</tr>
<tr class="row-even"><td><p><em>LEFT</em></p></td>
<td><p>Move the camera left, moving the objects right</p></td>
</tr>
<tr class="row-odd"><td><p><em>RIGHT</em></p></td>
<td><p>Move the camera right, moving the objects left</p></td>
</tr>
<tr class="row-even"><td><p><em>q</em></p></td>
<td><p>Rotate the square around its center</p></td>
</tr>
<tr class="row-odd"><td><p><em>e</em></p></td>
<td><p>Rotate the square around paddle 1’s center</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>In the previous demo, in the footnote, we found that “glVertex”
did a lot behind the scenes, sneakily grabbing data from the matrix
stacks and the current color (and lots of other things we haven’t covered in
this book, like texturing and lighting).</p>
<p>What did the graphics driver do with the data?  This older style of graphics
programming is called “fixed-function” graphics programming, in that we can
tweak some values, but the graphics card and its driver are going to do
whatever they were programmed to, and we can’t control it.  Kind of like having
a graphing calculator, but not having the ability to program it - OpenGL is
in control at this point, and we can just parameterize it.</p>
<p>Programmers wanted more control, first over how lighting works (which we don’t
cover in this book).  Rather than having 3 or so lighting models to choose from,
the programmers wanted to be able to specify the math of how their custom
lighting worked.  So OpenGL 2.1 allowed the programmer to create “shaders”,
which I believe were called such because they allow the programmer to change
the “shade” of a fragment <a class="footnote-reference brackets" href="#id3" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>In this demo, we keep most of the code from the previous demo the same,
we just add in programmable shaders.  So the calls to “glVertex”
are no longer a black box, in which something happens of the graphics card;
instead, before sending modelspace data to the graphics card, we program
a sequence of transformations that happen on the graphics card per vertex,
which a driver could implement in parallel.</p>
<p>We have some new imports, “glUseProgram”, “GL_VERTEX_SHADER”, “GL_FRAGMENT_SHADER”</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">src/demo20/demo.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">34</span><span class="kn">from</span> <span class="nn">OpenGL.GL</span> <span class="kn">import</span> <span class="p">(</span>
<span class="linenos">35</span>    <span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">,</span>
<span class="linenos">36</span>    <span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">,</span>
<span class="linenos">37</span>    <span class="n">GL_DEPTH_TEST</span><span class="p">,</span>
<span class="linenos">38</span>    <span class="n">GL_FRAGMENT_SHADER</span><span class="p">,</span>
<span class="linenos">39</span>    <span class="n">GL_LEQUAL</span><span class="p">,</span>
<span class="linenos">40</span>    <span class="n">GL_MODELVIEW</span><span class="p">,</span>
<span class="linenos">41</span>    <span class="n">GL_PROJECTION</span><span class="p">,</span>
<span class="linenos">42</span>    <span class="n">GL_QUADS</span><span class="p">,</span>
<span class="linenos">43</span>    <span class="n">GL_SCISSOR_TEST</span><span class="p">,</span>
<span class="linenos">44</span>    <span class="n">GL_VERTEX_SHADER</span><span class="p">,</span>
<span class="linenos">45</span>    <span class="n">glBegin</span><span class="p">,</span>
<span class="linenos">46</span>    <span class="n">glClear</span><span class="p">,</span>
<span class="linenos">47</span>    <span class="n">glClearColor</span><span class="p">,</span>
<span class="linenos">48</span>    <span class="n">glClearDepth</span><span class="p">,</span>
<span class="linenos">49</span>    <span class="n">glColor3f</span><span class="p">,</span>
<span class="linenos">50</span>    <span class="n">glDepthFunc</span><span class="p">,</span>
<span class="linenos">51</span>    <span class="n">glDisable</span><span class="p">,</span>
<span class="linenos">52</span>    <span class="n">glEnable</span><span class="p">,</span>
<span class="linenos">53</span>    <span class="n">glEnd</span><span class="p">,</span>
<span class="linenos">54</span>    <span class="n">glLoadIdentity</span><span class="p">,</span>
<span class="linenos">55</span>    <span class="n">glMatrixMode</span><span class="p">,</span>
<span class="linenos">56</span>    <span class="n">glPopMatrix</span><span class="p">,</span>
<span class="linenos">57</span>    <span class="n">glPushMatrix</span><span class="p">,</span>
<span class="linenos">58</span>    <span class="n">glRotatef</span><span class="p">,</span>
<span class="linenos">59</span>    <span class="n">glScissor</span><span class="p">,</span>
<span class="linenos">60</span>    <span class="n">glTranslate</span><span class="p">,</span>
<span class="linenos">61</span>    <span class="n">glUseProgram</span><span class="p">,</span>
<span class="linenos">62</span>    <span class="n">glVertex3f</span><span class="p">,</span>
<span class="linenos">63</span>    <span class="n">glViewport</span><span class="p">,</span>
<span class="linenos">64</span><span class="p">)</span>
<span class="linenos">65</span><span class="kn">from</span> <span class="nn">OpenGL.GLU</span> <span class="kn">import</span> <span class="n">gluPerspective</span>
<span class="linenos">66</span>
</pre></div>
</div>
</div>
<p>We now ask the OpenGL driver to accept OpenGL 2.1 function calls.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">src/demo20/demo.py</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">74</span><span class="n">glfw</span><span class="o">.</span><span class="n">window_hint</span><span class="p">(</span><span class="n">glfw</span><span class="o">.</span><span class="n">CONTEXT_VERSION_MAJOR</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="linenos">75</span><span class="n">glfw</span><span class="o">.</span><span class="n">window_hint</span><span class="p">(</span><span class="n">glfw</span><span class="o">.</span><span class="n">CONTEXT_VERSION_MINOR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Before the event loop starts, we send two mini programs to the GPU, the vertex
shader and the fragment shader.  The purpose of the vertex shader is to transform
the modelspace data to clip-space (x,y,z,w), where to get NDC you would divide
by the w; i.e. (x/w,y/w,z/w,1)</p>
<p>I like to think of a matrix multiplication to a vector as a “function-application”,
in the same way we did in the lambda stack.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">src/demo20/demo.py</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">231</span><span class="c1"># compile shaders</span>
<span class="linenos">232</span>
<span class="linenos">233</span><span class="c1"># initialize shaders</span>
<span class="linenos">234</span><span class="n">pwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<span class="linenos">235</span>
<span class="linenos">236</span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pwd</span><span class="p">,</span> <span class="s2">&quot;triangle.vert&quot;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="linenos">237</span>    <span class="n">vs</span> <span class="o">=</span> <span class="n">shaders</span><span class="o">.</span><span class="n">compileShader</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">GL_VERTEX_SHADER</span><span class="p">)</span>
<span class="linenos">238</span>
<span class="linenos">239</span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pwd</span><span class="p">,</span> <span class="s2">&quot;triangle.frag&quot;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="linenos">240</span>    <span class="n">fs</span> <span class="o">=</span> <span class="n">shaders</span><span class="o">.</span><span class="n">compileShader</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">GL_FRAGMENT_SHADER</span><span class="p">)</span>
<span class="linenos">241</span>
<span class="linenos">242</span><span class="n">shader</span> <span class="o">=</span> <span class="n">shaders</span><span class="o">.</span><span class="n">compileProgram</span><span class="p">(</span><span class="n">vs</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
<span class="linenos">243</span><span class="n">glUseProgram</span><span class="p">(</span><span class="n">shader</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In the vertex shader, there are a lot of predefined variable names with values
provided to us. “gl_Modelview_matrix” is the matrix at the top of the modelview
matrix stack at the time “glVertex” is called, “glProjectionMatrix” is the top of
the projection matrix stack (although there is typically only one).  “glColor”
is the color that was defined for this vertex by calling “glColor3f”.</p>
<p>In OpenGL 2.1, the output of the vertex shader that we use here is “glFrontColor”,
which is a variable name that we must use to get the data to the fragment shader,
which we haven’t covered.  (Actually there are a bunch of other predefined variable
outputs, including “glBackColor”, for the case that we are looking at the back face
of the geometry.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="c1">//Copyright (c) 2018-2024 William Emerison Six</span>
<span class="c1">//</span>
<span class="c1">//Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c1">//of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c1">//in the Software without restriction, including without limitation the rights</span>
<span class="c1">//to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c1">//copies of the Software, and to permit persons to whom the Software is</span>
<span class="c1">//furnished to do so, subject to the following conditions:</span>
<span class="c1">//</span>
<span class="c1">//The above copyright notice and this permission notice shall be included in all</span>
<span class="c1">//copies or substantial portions of the Software.</span>
<span class="c1">//</span>
<span class="c1">//THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c1">//IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c1">//FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c1">//AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c1">//LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c1">//OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="c1">//SOFTWARE.</span>

<span class="cp">#version 120</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// gl_Vertex is modelspace data</span>

<span class="w">    </span><span class="kt">vec4</span><span class="w"> </span><span class="n">camera_space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">gl_ModelViewMatrix</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">gl_Vertex</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// in camera space, the frustum is on the negative z axis</span>
<span class="w">    </span><span class="kt">vec4</span><span class="w"> </span><span class="n">clip_space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">gl_ProjectionMatrix</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">camera_space</span><span class="p">;</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">ndc_space</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clip_space</span><span class="p">.</span><span class="n">xyz</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">clip_space</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// in ndc space, x y and z need to be divided by w</span>

<span class="w">    </span><span class="c1">// normal MVP transform</span>
<span class="w">    </span><span class="nb">gl_Position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">gl_ModelViewProjectionMatrix</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">gl_Vertex</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Copy the primary color</span>
<span class="w">    </span><span class="nb">gl_FrontColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">gl_Color</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is the fragment shader.  Unlike the vertex shader, which took an vertex in (x,y,z)
and outputted clip-space (NDC), the fragment shader for a given pixel is determining
the color <a class="footnote-reference brackets" href="#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.  Is “glColor” in the fragment shader the same “glColor” from the vertex
shader, or is it the value of the vertex shader’s output “glFrontColor”?  Honestly,
the author doesn’t know, but it is set to the output of the fragment shader,
and such questions are a moot point once we get to OpenGL 3.3 Core profile
in the next section.</p>
<div class="highlight-glsl notranslate"><div class="highlight"><pre><span></span><span class="c1">//Copyright (c) 2018-2024 William Emerison Six</span>
<span class="c1">//</span>
<span class="c1">//Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c1">//of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c1">//in the Software without restriction, including without limitation the rights</span>
<span class="c1">//to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c1">//copies of the Software, and to permit persons to whom the Software is</span>
<span class="c1">//furnished to do so, subject to the following conditions:</span>
<span class="c1">//</span>
<span class="c1">//The above copyright notice and this permission notice shall be included in all</span>
<span class="c1">//copies or substantial portions of the Software.</span>
<span class="c1">//</span>
<span class="c1">//THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c1">//IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c1">//FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c1">//AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c1">//LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c1">//OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="c1">//SOFTWARE.</span>

<span class="cp">#version 120</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="nb">gl_FragColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">gl_Color</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The explicit mapping of variable names to values in OpenGL 3.3 Core Profile
will make the flow of data from the CPU program, to the GPU vertex shader,
to the fragment shader much more clear, albeit at the expense of verbosity.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>To note.  The word “shader” now just means a small function
the executes on the GPU.  Taylor Swift would not write a song
saying “A Shader’s gonna shade shade shade shade”, because shaders
do all sorts of things now, like transformations of vertices
from modelspace to clip-space, or adding new geometry in the
middle of the graphic transformation pipeline.</p>
</aside>
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>We are not yet concerned about how the rasterization process works,
and the linear interpolation of color, normals, etc.  Online
resources like “LearnOpenGL” and “PortableGL” cover this.</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ch19.html" class="btn btn-neutral float-left" title="Matrix Stacks - Demo 19" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ch21.html" class="btn btn-neutral float-right" title="OpenGL3.3 Core Profile - Demo 21" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2024, William Emerison Six.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>